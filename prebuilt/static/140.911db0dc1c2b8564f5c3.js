"use strict";(self.webpackChunkngl_clj=self.webpackChunkngl_clj||[]).push([[140],{140:(t,n,o)=>{o.r(n),o.d(n,{AnnotationModel:()=>a,AnnotationView:()=>h});var e=o(647),i=o(14);const s=o(187);class a extends e.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{visible:!0,content:"",position:[0,0,0],offset:[0,0,0],_model_name:"AnnotationModel",_view_name:"AnnotationView",_model_module:i.o,_model_module_version:i.Y,_view_module:i.o,_view_module_version:i.Y})}}class h extends e.WidgetView{constructor(){super(...arguments),this.annotation_obj=null}initialize(t){super.initialize(t),this.component_obj=this.options.component_obj,this.model.on("change:content",this.content_changed,this),this.model.on("change:offset",this.offset_changed,this),this.model.on("change:position",this.position_changed,this),this.model.on("change:visible",this.visible_changed,this)}async content_changed(){if(this.annotation_obj){var t=document.createElement("div");t.innerHTML=this.model.get("content"),this.annotation_obj.setContent(t)}}async offset_changed(){if(this.annotation_obj){const t=this.model.get("offset");this.annotation_obj.offsetX=t[0],this.annotation_obj.offsetY=t[1],this.annotation_obj._update()}}async position_changed(){this.annotation_obj&&(this.annotation_obj.position.fromArray(this.model.get("position")),this.annotation_obj._update())}async visible_changed(){this.annotation_obj&&this.annotation_obj.setVisibility(this.model.get("visible"))}async remove(){super.remove(),this.component_obj&&this.annotation_obj&&(this.component_obj.removeAnnotation(this.annotation_obj),this.annotation_obj=null)}async render(){if(this.component_obj){if(!this.annotation_obj){super.render();const n=this.model.get("position"),o=this.model.get("offset");var t=document.createElement("div");t.innerHTML=this.model.get("content"),this.annotation_obj=this.component_obj.addAnnotation(new s.Vector3(n[0],n[1],n[2]),t,{offsetX:o[0],offsetY:o[1],visible:this.model.get("visible")})}}else this.el.textContent="Add to component widget to visualize."}}}}]);